

// 마커를 추가하는 함수
function addMarker(map, position) {
    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: '마커 제목'
    });
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
kakao.maps.load(() => {
    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 사용하여 마커 추가
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905));
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125));
    // 원하는 만큼 마커를 추가할 수 있음
});


=================================


// 마커를 추가하는 함수
function addMarker(map, position) {
    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: '마커 제목'
    });

    // 커스텀 오버레이를 생성하고 설정
    const content = '<div class="wrap">' + 
    '    <div class="info">' + 
    '        <div class="title">' + 
    '            ' + info.title + 
    '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' + 
    '        </div>' + 
    '        <div class="body">' + 
    '            <div class="img">' +
    '                <img src="' + info.imgSrc + '" width="73" height="70">' +
    '           </div>' + 
    '            <div class="desc">' + 
    '                <div class="ellipsis">' + info.address + '</div>' + 
    '                <div class="jibun ellipsis">' + info.postalCode + '</div>' + 
    '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' + 
    '            </div>' + 
    '        </div>' + 
    '    </div>' +    
    '</div>';
    const overlay = new kakao.maps.CustomOverlay({
        content: content,
        map: map,
        position: marker.getPosition(),
        clickable: false
    });
    
    // 처음에는 오버레이를 숨기기
    overlay.setMap(null);

    // 마커를 클릭하면 커스텀 오버레이를 표시
    kakao.maps.event.addListener(marker, 'click', function() {
        overlay.setMap(map);
    });

    // 지도를 클릭하면 커스텀 오버레이를 닫음
    kakao.maps.event.addListener(map, 'click', function() {
        overlay.setMap(null);
    });

    // 커스텀 오버레이를 닫기 위해 호출되는 함수
    window.closeOverlay = function() {
        overlay.setMap(null);
    };
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
kakao.maps.load(() => {
    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 사용하여 마커 추가
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905));
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125));
    // 원하는 만큼 마커를 추가할 수 있음
});




================================================================

   // // 커스텀 오버레이를 생성하고 설정
    // const content = '<div class="wrap">' +
    //     '    <div class="info">' +
    //     '        <div class="title">' +
    //     '            ' + info.title +
    //     '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' +
    //     '        </div>' +
    //     '        <div class="body">' +
    //     '            <div class="img">' +
    //     '                <img src="' + info.imgSrc + '" width="73" height="70">' +
    //     '           </div>' +
    //     '            <div class="desc">' +
    //     '                <div class="ellipsis">' + info.address + '</div>' +
    //     '                <div class="jibun ellipsis">' + info.postalCode + '</div>' +
    //     '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' +
    //     '            </div>' +
    //     '        </div>' +
    //     '    </div>' +
    //     '</div>';
    // const overlay = new kakao.maps.CustomOverlay({
    //     content: content,
    //     map: map,
    //     position: marker.getPosition(),
    //     clickable: false
    // });

    // // 처음에는 오버레이를 숨기기
    // overlay.setMap(null);

    // // 마커를 클릭하면 커스텀 오버레이를 표시
    // kakao.maps.event.addListener(marker, 'click', function () {
    //     overlay.setMap(map);
    // });

    // // 지도를 클릭하면 커스텀 오버레이를 닫음
    // kakao.maps.event.addListener(map, 'click', function () {
    //     overlay.setMap(null);
    // });

    // // 커스텀 오버레이를 닫기 위해 호출되는 함수
    // window.closeOverlay = function () {
    //     overlay.setMap(null);
    // };
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
// kakao.maps.load(() => {
//     const info1 = {
//         title: '카카오 스페이스닷원',
//         closeTitle: '닫기',
//         imgSrc: 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png',
//         address: '제주특별자치도 제주시 첨단로 242',
//         postalCode: '(우) 63309 (지번) 영평동 2181',
//         homepage: 'https://www.kakaocorp.com/main'
//     };

//     const info2 = {
//         title: '다른 장소',
//         closeTitle: '닫기',
//         imgSrc: 'https://example.com/another-image.png',
//         address: '다른 주소',
//         postalCode: '(우) 12345',
//         homepage: 'https://www.example.com'
//     };

============================================================



//inner_marker.js

// 마커를 추가하는 함수
function addMarker(map, position, info) {
    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: '마커 제목'
    });

    // // 커스텀 오버레이를 생성하고 설정
    // const content = '<div class="wrap">' +
    //     '    <div class="info">' +
    //     '        <div class="title">' +
    //     '            ' + info.title +
    //     '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' +
    //     '        </div>' +
    //     '        <div class="body">' +
    //     '            <div class="img">' +
    //     '                <img src="' + info.imgSrc + '" width="73" height="70">' +
    //     '           </div>' +
    //     '            <div class="desc">' +
    //     '                <div class="ellipsis">' + info.address + '</div>' +
    //     '                <div class="jibun ellipsis">' + info.postalCode + '</div>' +
    //     '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' +
    //     '            </div>' +
    //     '        </div>' +
    //     '    </div>' +
    //     '</div>';
    // const overlay = new kakao.maps.CustomOverlay({
    //     content: content,
    //     map: map,
    //     position: marker.getPosition(),
    //     clickable: false
    // });

    // // 처음에는 오버레이를 숨기기
    // overlay.setMap(null);

    // // 마커를 클릭하면 커스텀 오버레이를 표시
    // kakao.maps.event.addListener(marker, 'click', function () {
    //     overlay.setMap(map);
    // });

    // // 지도를 클릭하면 커스텀 오버레이를 닫음
    // kakao.maps.event.addListener(map, 'click', function () {
    //     overlay.setMap(null);
    // });

    // // 커스텀 오버레이를 닫기 위해 호출되는 함수
    // window.closeOverlay = function () {
    //     overlay.setMap(null);
    // };
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
kakao.maps.load(() => {
    // const info1 = {
    //     title: '카카오 스페이스닷원',
    //     closeTitle: '닫기',
    //     imgSrc: 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png',
    //     address: '제주특별자치도 제주시 첨단로 242',
    //     postalCode: '(우) 63309 (지번) 영평동 2181',
    //     homepage: 'https://www.kakaocorp.com/main'
    // };

    // const info2 = {
    //     title: '다른 장소',
    //     closeTitle: '닫기',
    //     imgSrc: 'https://example.com/another-image.png',
    //     address: '다른 주소',
    //     postalCode: '(우) 12345',
    //     homepage: 'https://www.example.com'
    // };

    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 사용하여 마커 추가
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905), info1);
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125), info2);
    // 원하는 만큼 마커를 추가할 수 있음
});



=========================================================



//detail.js

function addOverlay(map, info) {
   

    // 커스텀 오버레이를 추가하는 함수 호출
    addOverlay(map, info);
}

// 오버레이를 추가하는 함수
function addOverlay(map, info) {
    // ... (이전에 제공한 addOverlay 함수 코드와 동일)
 // 커스텀 오버레이를 추가하는 함수 호출
 addOverlay(map, info);
    // 마커를 클릭하면 오버레이 표시
    kakao.maps.event.addListener(marker, 'click', function () {
        showOverlay();
    });

    // 커스텀 오버레이를 생성하고 설정
    const content = '<div class="wrap">' +
        '    <div class="info">' +
        '        <div class="title">' +
        '            ' + info.title +
        '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' +
        '        </div>' +
        '        <div class="body">' +
        '            <div class="img">' +
        '                <img src="' + info.imgSrc + '" width="73" height="70">' +
        '           </div>' +
        '            <div class="desc">' +
        '                <div class="ellipsis">' + info.address + '</div>' +
        '                <div class="jibun ellipsis">' + info.postalCode + '</div>' +
        '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' +
        '            </div>' +
        '        </div>' +
        '    </div>' +
        '</div>';
    const overlay = new kakao.maps.CustomOverlay({
        content: content,
        map: map,
        position: marker.getPosition(),
        clickable: false
    });

    // 처음에는 오버레이를 숨기기
    overlay.setMap(null);

    // 마커를 클릭하면 커스텀 오버레이를 표시
    kakao.maps.event.addListener(marker, 'click', function () {
        overlay.setMap(map);
    });

    // 지도를 클릭하면 커스텀 오버레이를 닫음
    kakao.maps.event.addListener(map, 'click', function () {
        overlay.setMap(null);
    });

    // 커스텀 오버레이를 닫기 위해 호출되는 함수
    window.closeOverlay = function () {
        overlay.setMap(null);
    };
}

kakao.maps.load(() => {
    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 가져와서 사용하여 마커 추가
    // const globalMap = new kakao.maps.Map(/* your map initialization options */);

   const info1 = {
        title: '카카오 스페이스닷원',
        closeTitle: '닫기',
        imgSrc: 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png',
        address: '제주특별자치도 제주시 첨단로 242',
        postalCode: '(우) 63309 (지번) 영평동 2181',
        homepage: 'https://www.kakaocorp.com/main'
    };

    const info2 = {
        title: '다른 장소',
        closeTitle: '닫기',
        imgSrc: 'https://example.com/another-image.png',
        address: '다른 주소',
        postalCode: '(우) 12345',
        homepage: 'https://www.example.com'
    };
  
});


================================================================


// overlay_content.js

// 오버레이 내용을 생성하는 함수
function createOverlayContent(markerName, additionalInfo) {
    return `<div>
                <h3>${markerName}</h3>
                <p>${additionalInfo}</p>
            </div>`;
}
// inner_marker.js

// 마커를 추가하는 함수
function addMarker(map, position, markerName, additionalInfo) {
    // 오버레이 내용을 생성
    const content = createOverlayContent(markerName, additionalInfo);

    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: markerName
    });

    // 오버레이 추가 함수 호출 시 마커와 인포윈도우에 표시할 내용(content) 전달
    addOverlay(map, marker, content);

    
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
kakao.maps.load(() => {
    // addMarker 함수 호출 시 globalMap을 전달 및 마커에 표시할 내용(content) 전달
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905), '마커 1', '마커 1에 대한 추가 정보');
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125), '마커 2', '마커 2에 대한 추가 정보');
    // 원하는 만큼 마커를 추가할 수 있음
});



================================================================

// overlay_content.js

// 오버레이 내용을 생성하는 함수
function createOverlayContent(markerInfo) {
    return `
        <div class="wrap">
            <div class="info">
                <div class="title">
                    ${markerInfo.title}
                    <div class="close" onclick="closeOverlay()" title="${markerInfo.closeTitle}"></div>
                </div>
                <div class="body">
                    <div class="img">
                        <img src="${markerInfo.imgSrc}" width="73" height="70">
                    </div>
                    <div class="desc">
                        <div class="ellipsis">${markerInfo.address}</div>
                        <div class="jibun ellipsis">${markerInfo.postalCode}</div>
                        <div><a href="${markerInfo.homepage}" target="_blank" class="link">홈페이지</a></div>
                    </div>
                </div>
            </div>
        </div>`;
}

// inner_marker.js

// 마커를 추가하는 함수
function addMarker(map, position, markerName, additionalInfo) {
   // 오버레이 내용을 생성
    const markerInfo = {
        title: markerName,
        closeTitle: '닫기',
        imgSrc: additionalInfo.imgSrc,
        address: additionalInfo.address,
        postalCode: additionalInfo.postalCode,
        homepage: additionalInfo.homepage
    };
    const content = createOverlayContent(markerInfo);

    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: markerName
    });

    // 오버레이 추가 함수 호출 시 마커와 인포윈도우에 표시할 내용(content) 전달
    addOverlay(map, marker, content);
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
kakao.maps.load(() => {
    // addMarker 함수 호출 시 globalMap을 전달 및 마커에 표시할 내용(content) 전달
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905), '마커 1', {
        imgSrc: '이미지_경로_1',
        address: '주소_1',
        postalCode: '우편번호_1',
        homepage: '홈페이지_주소_1'
    });
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125), '마커 2', {
        imgSrc: '이미지_경로_2',
        address: '주소_2',
        postalCode: '우편번호_2',
        homepage: '홈페이지_주소_2'
    });
    // 원하는 만큼 마커를 추가할 수 있음
});


================================================================

// inner_marker.js

// 오버레이를 추가하는 함수
function addOverlay(map, marker, content) {
    // 인포윈도우 생성
    const infowindow = new kakao.maps.InfoWindow({
        content: content,
        removable: true
    });

    // 마커 클릭 이벤트 리스너 등록
    kakao.maps.event.addListener(marker, 'click', function() {
        // 인포윈도우를 마커 위에 표시
        infowindow.open(map, marker);
    });
}

// 마커를 추가하는 함수
function addMarker(map, position, content) {
    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: '마커 제목'
    });

    // 오버레이 추가 함수 호출 시 마커와 인포윈도우에 표시할 내용(content) 전달
    addOverlay(map, marker, content);
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
kakao.maps.load(() => {
    // addMarker 함수 호출 시 globalMap을 전달 및 마커에 표시할 내용(content) 전달
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905), '마커 1의 내용');
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125), '마커 2의 내용');
    // 원하는 만큼 마커를 추가할 수 있음
});



================================================================



@charset "utf-8";




.wrap * {
  padding: 0;
  margin: 0;
}
.wrap {
  width: 200px;
  height: 100px;
  border-radius: 5px;
  border-bottom: 2px solid #ccc;
  border-right: 1px solid #ccc;
  overflow: hidden;
  background: #fff;
  
}


.title {
  padding: 5px 0 0 10px;
  height: 30px;
  background: #eee;
  border-bottom: 1px solid #ddd;
  font-size: 18px;
  font-weight: bold;
 
}
.close {
  position: absolute;
  top: 10px;
  right: 10px;

  width: 30px;
  height: 30px;

}
.info .close:hover {
  cursor: pointer;
}
.info .body {
  position: relative;
  overflow: hidden;
  display: inline;
}
.info .desc {
  position: relative;
  margin: 13px 0 0 90px;
  height: 76px;
  display: inline;
}
.desc .ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline;
}
.desc .jibun {
  font-size: 11px;
  color: #888;
  margin-top: -2px;
  display: inline;
}
.info .img {
  position: absolute;
  top: 6px;
  left: 5px;
  width: 100px;
  height: 71px;
  border: 1px solid #ddd;
  color: #888;
  overflow: hidden;
  display: inline;
}




