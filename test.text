

// 마커를 추가하는 함수
function addMarker(map, position) {
    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: '마커 제목'
    });
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
kakao.maps.load(() => {
    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 사용하여 마커 추가
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905));
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125));
    // 원하는 만큼 마커를 추가할 수 있음
});


=================================


// 마커를 추가하는 함수
function addMarker(map, position) {
    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: '마커 제목'
    });

    // 커스텀 오버레이를 생성하고 설정
    const content = '<div class="wrap">' + 
    '    <div class="info">' + 
    '        <div class="title">' + 
    '            ' + info.title + 
    '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' + 
    '        </div>' + 
    '        <div class="body">' + 
    '            <div class="img">' +
    '                <img src="' + info.imgSrc + '" width="73" height="70">' +
    '           </div>' + 
    '            <div class="desc">' + 
    '                <div class="ellipsis">' + info.address + '</div>' + 
    '                <div class="jibun ellipsis">' + info.postalCode + '</div>' + 
    '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' + 
    '            </div>' + 
    '        </div>' + 
    '    </div>' +    
    '</div>';
    const overlay = new kakao.maps.CustomOverlay({
        content: content,
        map: map,
        position: marker.getPosition(),
        clickable: false
    });
    
    // 처음에는 오버레이를 숨기기
    overlay.setMap(null);

    // 마커를 클릭하면 커스텀 오버레이를 표시
    kakao.maps.event.addListener(marker, 'click', function() {
        overlay.setMap(map);
    });

    // 지도를 클릭하면 커스텀 오버레이를 닫음
    kakao.maps.event.addListener(map, 'click', function() {
        overlay.setMap(null);
    });

    // 커스텀 오버레이를 닫기 위해 호출되는 함수
    window.closeOverlay = function() {
        overlay.setMap(null);
    };
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
kakao.maps.load(() => {
    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 사용하여 마커 추가
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905));
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125));
    // 원하는 만큼 마커를 추가할 수 있음
});




================================================================

   // // 커스텀 오버레이를 생성하고 설정
    // const content = '<div class="wrap">' +
    //     '    <div class="info">' +
    //     '        <div class="title">' +
    //     '            ' + info.title +
    //     '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' +
    //     '        </div>' +
    //     '        <div class="body">' +
    //     '            <div class="img">' +
    //     '                <img src="' + info.imgSrc + '" width="73" height="70">' +
    //     '           </div>' +
    //     '            <div class="desc">' +
    //     '                <div class="ellipsis">' + info.address + '</div>' +
    //     '                <div class="jibun ellipsis">' + info.postalCode + '</div>' +
    //     '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' +
    //     '            </div>' +
    //     '        </div>' +
    //     '    </div>' +
    //     '</div>';
    // const overlay = new kakao.maps.CustomOverlay({
    //     content: content,
    //     map: map,
    //     position: marker.getPosition(),
    //     clickable: false
    // });

    // // 처음에는 오버레이를 숨기기
    // overlay.setMap(null);

    // // 마커를 클릭하면 커스텀 오버레이를 표시
    // kakao.maps.event.addListener(marker, 'click', function () {
    //     overlay.setMap(map);
    // });

    // // 지도를 클릭하면 커스텀 오버레이를 닫음
    // kakao.maps.event.addListener(map, 'click', function () {
    //     overlay.setMap(null);
    // });

    // // 커스텀 오버레이를 닫기 위해 호출되는 함수
    // window.closeOverlay = function () {
    //     overlay.setMap(null);
    // };
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
// kakao.maps.load(() => {
//     const info1 = {
//         title: '카카오 스페이스닷원',
//         closeTitle: '닫기',
//         imgSrc: 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png',
//         address: '제주특별자치도 제주시 첨단로 242',
//         postalCode: '(우) 63309 (지번) 영평동 2181',
//         homepage: 'https://www.kakaocorp.com/main'
//     };

//     const info2 = {
//         title: '다른 장소',
//         closeTitle: '닫기',
//         imgSrc: 'https://example.com/another-image.png',
//         address: '다른 주소',
//         postalCode: '(우) 12345',
//         homepage: 'https://www.example.com'
//     };

============================================================



//inner_marker.js

// 마커를 추가하는 함수
function addMarker(map, position, info) {
    // 마커 생성
    const marker = new kakao.maps.Marker({
        position: position,
        map: map,
        title: '마커 제목'
    });

    // // 커스텀 오버레이를 생성하고 설정
    // const content = '<div class="wrap">' +
    //     '    <div class="info">' +
    //     '        <div class="title">' +
    //     '            ' + info.title +
    //     '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' +
    //     '        </div>' +
    //     '        <div class="body">' +
    //     '            <div class="img">' +
    //     '                <img src="' + info.imgSrc + '" width="73" height="70">' +
    //     '           </div>' +
    //     '            <div class="desc">' +
    //     '                <div class="ellipsis">' + info.address + '</div>' +
    //     '                <div class="jibun ellipsis">' + info.postalCode + '</div>' +
    //     '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' +
    //     '            </div>' +
    //     '        </div>' +
    //     '    </div>' +
    //     '</div>';
    // const overlay = new kakao.maps.CustomOverlay({
    //     content: content,
    //     map: map,
    //     position: marker.getPosition(),
    //     clickable: false
    // });

    // // 처음에는 오버레이를 숨기기
    // overlay.setMap(null);

    // // 마커를 클릭하면 커스텀 오버레이를 표시
    // kakao.maps.event.addListener(marker, 'click', function () {
    //     overlay.setMap(map);
    // });

    // // 지도를 클릭하면 커스텀 오버레이를 닫음
    // kakao.maps.event.addListener(map, 'click', function () {
    //     overlay.setMap(null);
    // });

    // // 커스텀 오버레이를 닫기 위해 호출되는 함수
    // window.closeOverlay = function () {
    //     overlay.setMap(null);
    // };
}

// 폴리곤 파일의 전역 변수인 globalMap을 사용하여 마커를 추가
// 여기서는 폴리곤 파일의 globalMap을 사용하기 위해 폴리곤 파일이 먼저 로드되어야 함
kakao.maps.load(() => {
    // const info1 = {
    //     title: '카카오 스페이스닷원',
    //     closeTitle: '닫기',
    //     imgSrc: 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png',
    //     address: '제주특별자치도 제주시 첨단로 242',
    //     postalCode: '(우) 63309 (지번) 영평동 2181',
    //     homepage: 'https://www.kakaocorp.com/main'
    // };

    // const info2 = {
    //     title: '다른 장소',
    //     closeTitle: '닫기',
    //     imgSrc: 'https://example.com/another-image.png',
    //     address: '다른 주소',
    //     postalCode: '(우) 12345',
    //     homepage: 'https://www.example.com'
    // };

    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 사용하여 마커 추가
    addMarker(globalMap, new kakao.maps.LatLng(36.832408, 127.147905), info1);
    addMarker(globalMap, new kakao.maps.LatLng(36.828, 127.125), info2);
    // 원하는 만큼 마커를 추가할 수 있음
});



=========================================================



//detail.js

function addOverlay(map, info) {
   

    // 커스텀 오버레이를 추가하는 함수 호출
    addOverlay(map, info);
}

// 오버레이를 추가하는 함수
function addOverlay(map, info) {
    // ... (이전에 제공한 addOverlay 함수 코드와 동일)
 // 커스텀 오버레이를 추가하는 함수 호출
 addOverlay(map, info);
    // 마커를 클릭하면 오버레이 표시
    kakao.maps.event.addListener(marker, 'click', function () {
        showOverlay();
    });

    // 커스텀 오버레이를 생성하고 설정
    const content = '<div class="wrap">' +
        '    <div class="info">' +
        '        <div class="title">' +
        '            ' + info.title +
        '            <div class="close" onclick="closeOverlay()" title="' + info.closeTitle + '"></div>' +
        '        </div>' +
        '        <div class="body">' +
        '            <div class="img">' +
        '                <img src="' + info.imgSrc + '" width="73" height="70">' +
        '           </div>' +
        '            <div class="desc">' +
        '                <div class="ellipsis">' + info.address + '</div>' +
        '                <div class="jibun ellipsis">' + info.postalCode + '</div>' +
        '                <div><a href="' + info.homepage + '" target="_blank" class="link">홈페이지</a></div>' +
        '            </div>' +
        '        </div>' +
        '    </div>' +
        '</div>';
    const overlay = new kakao.maps.CustomOverlay({
        content: content,
        map: map,
        position: marker.getPosition(),
        clickable: false
    });

    // 처음에는 오버레이를 숨기기
    overlay.setMap(null);

    // 마커를 클릭하면 커스텀 오버레이를 표시
    kakao.maps.event.addListener(marker, 'click', function () {
        overlay.setMap(map);
    });

    // 지도를 클릭하면 커스텀 오버레이를 닫음
    kakao.maps.event.addListener(map, 'click', function () {
        overlay.setMap(null);
    });

    // 커스텀 오버레이를 닫기 위해 호출되는 함수
    window.closeOverlay = function () {
        overlay.setMap(null);
    };
}

kakao.maps.load(() => {
    // 폴리곤 파일에서 생성한 전역 지도 객체(globalMap)를 가져와서 사용하여 마커 추가
    // const globalMap = new kakao.maps.Map(/* your map initialization options */);

   const info1 = {
        title: '카카오 스페이스닷원',
        closeTitle: '닫기',
        imgSrc: 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png',
        address: '제주특별자치도 제주시 첨단로 242',
        postalCode: '(우) 63309 (지번) 영평동 2181',
        homepage: 'https://www.kakaocorp.com/main'
    };

    const info2 = {
        title: '다른 장소',
        closeTitle: '닫기',
        imgSrc: 'https://example.com/another-image.png',
        address: '다른 주소',
        postalCode: '(우) 12345',
        homepage: 'https://www.example.com'
    };
  
});
